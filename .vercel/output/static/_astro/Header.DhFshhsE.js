import{_ as w}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{c,o as s,a as t,d as p,r as i,j as f,k as N,t as P,i as v,W as L,q as V,f as M,b as j}from"./runtime-core.esm-bundler.BNdVnsgS.js";import{S as D,M as I}from"./sun.CjCweWVQ.js";/* empty css                        */import"./createLucideIcon.Cswp-0MP.js";const q={__name:"ThemeToggle",setup(d,{expose:r}){r();const a=i(!1);f(()=>{if(typeof window<"u"){const l=localStorage.getItem("theme"),o=window.matchMedia("(prefers-color-scheme: dark)").matches;a.value=l==="dark"||!l&&o,a.value&&document.documentElement.classList.add("dark")}});const n={isDark:a,toggleTheme:()=>{a.value=!a.value,a.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},ref:i,onMounted:f,get Moon(){return I},get Sun(){return D}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},H={class:"w-6 h-6 flex items-center justify-center"};function O(d,r,a,e,n,l){return s(),c("button",{onClick:e.toggleTheme,class:"flex items-center gap-2 text-sm hover:opacity-70 transition-opacity","aria-label":"Toggle theme"},[t("div",H,[e.isDark?(s(),p(e.Sun,{key:1,size:20,class:"text-primary-white"})):(s(),p(e.Moon,{key:0,size:20,class:"text-primary-black"}))])])}const U=w(q,[["render",O]]),R={__name:"AudioPlayer",props:{audioSrc:{type:String,required:!0}},setup(d,{expose:r}){r();const a=d,e=i(null),n=i(!1),l=i(0),o=i(0),S=i(.7),h=u=>{if(!u||isNaN(u))return"0:00";const m=Math.floor(u/60),E=Math.floor(u%60);return`${m}:${E.toString().padStart(2,"0")}`},C=v(()=>h(l.value)),F=v(()=>h(o.value)),B=v(()=>o.value?l.value/o.value*100:0),z=()=>{e.value&&(n.value?e.value.pause():e.value.play())},$=u=>{if(!e.value||!o.value)return;const m=u.currentTarget.getBoundingClientRect(),A=(u.clientX-m.left)/m.width;e.value.currentTime=A*o.value},g=()=>{e.value&&(o.value=e.value.duration,console.log("Audio loaded, duration:",o.value))},_=()=>{e.value&&(l.value=e.value.currentTime)},y=()=>{n.value=!0},x=()=>{n.value=!1},k=()=>{n.value=!1,l.value=0},b=()=>{e.value&&!o.value&&(o.value=e.value.duration,console.log("Can play, duration:",o.value))};f(()=>{e.value&&(e.value.volume=S.value,e.value.addEventListener("loadedmetadata",g),e.value.addEventListener("canplay",b),e.value.addEventListener("timeupdate",_),e.value.addEventListener("play",y),e.value.addEventListener("pause",x),e.value.addEventListener("ended",k),e.value.load())}),L(()=>{e.value&&(e.value.removeEventListener("loadedmetadata",g),e.value.removeEventListener("canplay",b),e.value.removeEventListener("timeupdate",_),e.value.removeEventListener("play",y),e.value.removeEventListener("pause",x),e.value.removeEventListener("ended",k))});const T={props:a,audio:e,isPlaying:n,currentTime:l,duration:o,volume:S,formatTime:h,currentTimeFormatted:C,durationFormatted:F,progress:B,togglePlay:z,seek:$,handleLoadedMetadata:g,handleTimeUpdate:_,handlePlay:y,handlePause:x,handleEnded:k,handleCanPlay:b,ref:i,computed:v,watch:V,onMounted:f,onBeforeUnmount:L};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}},W={class:"audio-player flex items-center justify-center gap-2 px-2 md:px-3 py-1.5 md:py-2 rounded-full bg-gray-100 dark:bg-gray-800 transition-colors duration-300"},X=["src"],G=["aria-label"],J={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-2.5 h-2.5 md:w-3 md:h-3"},K={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-2.5 h-2.5 md:w-3 md:h-3"},Q={class:"flex-1 flex flex-col items-center gap-0.5 md:gap-1"},Y={class:"flex items-center justify-between w-full"},Z={class:"text-[9px] md:text-[10px] text-gray-600 dark:text-gray-400 font-mono"},ee={class:"text-[9px] md:text-[10px] text-gray-600 dark:text-gray-400 font-mono"};function te(d,r,a,e,n,l){return s(),c("div",W,[t("audio",{ref:"audio",src:a.audioSrc,preload:"metadata"},null,8,X),t("button",{onClick:e.togglePlay,class:"flex-shrink-0 w-6 h-6 md:w-7 md:h-7 flex items-center justify-center rounded-full bg-primary-black dark:bg-primary-white text-primary-white dark:text-primary-black hover:opacity-80 transition-opacity duration-200","aria-label":e.isPlaying?"Pause":"Play"},[e.isPlaying?(s(),c("svg",K,[...r[1]||(r[1]=[t("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"},null,-1)])])):(s(),c("svg",J,[...r[0]||(r[0]=[t("path",{d:"M8 5v14l11-7z"},null,-1)])]))],8,G),t("div",Q,[t("div",{onClick:e.seek,class:"w-full h-1 bg-gray-300 dark:bg-gray-700 rounded-full cursor-pointer relative overflow-hidden"},[t("div",{class:"absolute top-0 left-0 h-full bg-primary-black dark:bg-primary-white rounded-full transition-all duration-100",style:N({width:`${e.progress}%`})},null,4)]),t("div",Y,[t("span",Z,P(e.currentTimeFormatted),1),t("span",ee,P(e.durationFormatted),1)])])])}const ae=w(R,[["render",te],["__scopeId","data-v-1b25563b"]]),re={__name:"Header",props:{audioFile:{type:String,default:null,required:!1}},setup(d,{expose:r}){r();const e={props:d,ThemeToggle:U,AudioPlayer:ae};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},oe={class:"fixed top-0 left-0 right-0 z-50 bg-light dark:bg-dark transition-colors duration-300"},ne={class:"max-w-7xl mx-auto px-16 md:px-32 py-4 md:py-6"},le={class:"hidden md:flex items-center justify-between gap-4"},se={class:"flex items-center gap-4"},ie={class:"md:hidden"},de={class:"flex items-center justify-between mb-2"};function ue(d,r,a,e,n,l){return s(),c("header",oe,[t("div",ne,[t("div",le,[r[0]||(r[0]=t("a",{href:"/",class:"text-2xl font-bold hover:opacity-70 transition-opacity flex-shrink-0"}," Mayuresh Mule. ",-1)),t("div",se,[a.audioFile?(s(),p(e.AudioPlayer,{key:0,audioSrc:a.audioFile},null,8,["audioSrc"])):M("",!0),j(e.ThemeToggle,{class:"flex-shrink-0"})])]),t("div",ie,[t("div",de,[r[1]||(r[1]=t("a",{href:"/",class:"text-xl font-bold hover:opacity-70 transition-opacity"}," Mayuresh Mule. ",-1)),j(e.ThemeToggle)]),a.audioFile?(s(),p(e.AudioPlayer,{key:0,audioSrc:a.audioFile},null,8,["audioSrc"])):M("",!0)])])])}const he=w(re,[["render",ue]]);export{he as default};
